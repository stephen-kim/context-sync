<!DOCTYPE html><html lang="en" class="dark"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/284ccbea44cc8397.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-8fa15bc44c4a2b28.js"/><script src="/_next/static/chunks/5b8f0dd8-0b7e1dd47e2a464c.js" async=""></script><script src="/_next/static/chunks/749-a73fe5f6d6c8d6fc.js" async=""></script><script src="/_next/static/chunks/main-app-76eea0740ba2dd81.js" async=""></script><script src="/_next/static/chunks/411-74b2a502b45b9a7c.js" async=""></script><script src="/_next/static/chunks/app/docs/%5B...slug%5D/page-9841484d05ce8edd.js" async=""></script><title>Operations | Claustrum Docs</title><meta name="description" content="Documentation page: Operations"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><header class="border-b border-border/70 bg-background/70 backdrop-blur"><div class="container-docs flex items-center justify-between gap-3 py-4"><div><a class="text-lg font-semibold text-foreground no-underline" href="/">Claustrum Docs</a><p class="subtitle">GitHub Pages documentation for Claustrum</p></div><div class="flex items-center gap-2"><a class="button-link no-underline" href="/docs/home/">English</a><a class="button-link no-underline" href="/docs/ko/home/">한국어</a></div></div></header><main class="container-docs grid gap-6 lg:grid-cols-[280px_minmax(0,1fr)]"><aside class="panel hidden h-fit lg:block"><div class="panel-body space-y-4 text-sm"><div class="space-y-2"><h2 class="text-xs font-semibold uppercase tracking-wide text-muted-foreground">English</h2><ul class="space-y-1"><li><a class="no-underline" href="/docs/home/">Home</a></li><li><a class="no-underline" href="/docs/recent-updates/">recent-updates</a></li><li><a class="no-underline" href="/docs/installation/">Installation</a></li><li><a class="no-underline" href="/docs/environment-variables/">Environment-Variables</a></li><li><a class="no-underline" href="/docs/dependency-management/">dependency-management</a></li><li><a class="no-underline" href="/docs/ci/">ci</a></li><li><a class="no-underline" href="/docs/release-gate/">release-gate</a></li><li><a class="no-underline" href="/docs/operations/">Operations</a></li><li><a class="no-underline" href="/docs/security-and-mcp-io/">Security-and-MCP-IO</a></li><li><a class="no-underline" href="/docs/onboarding/">Onboarding</a></li><li><a class="no-underline" href="/docs/bootstrap-admin/">Bootstrap-Admin</a></li><li><a class="no-underline" href="/docs/auth-and-roles/">Auth-and-Roles</a></li><li><a class="no-underline" href="/docs/oidc-sso/">OIDC-SSO</a></li><li><a class="no-underline" href="/docs/group-mapping/">Group-Mapping</a></li></ul></div><div class="space-y-2"><h2 class="text-xs font-semibold uppercase tracking-wide text-muted-foreground">한국어</h2><ul class="space-y-1"><li><a class="no-underline" href="/docs/dependency-management/">dependency-management</a></li><li><a class="no-underline" href="/docs/ci/">ci</a></li><li><a class="no-underline" href="/docs/persona/">persona</a></li><li><a class="no-underline" href="/docs/context-bundle-eval/">context-bundle-eval</a></li><li><a class="no-underline" href="/docs/active-work-stale/">active-work-stale</a></li><li><a class="no-underline" href="/docs/active-work-timeline/">active-work-timeline</a></li><li><a class="no-underline" href="/docs/context-debug/">context-debug</a></li></ul></div></div></aside><section class="panel"><div class="panel-body space-y-6"><div class="flex flex-wrap items-center justify-between gap-3"><div><h1 class="title">Operations</h1><p class="subtitle">English document<!-- --> · Source: <!-- -->Operations.md</p></div><div class="flex gap-2"><a class="button-link no-underline" href="/">Docs Home</a></div></div><article class="prose-docs"><h1>Operations</h1>
<h2>Data and Recall Model</h2>
<ul>
<li>Default recall reads from <code>memories</code> only.</li>
<li>Raw imported transcripts are separated from default recall flow.</li>
<li>Optional raw tools return snippets only.</li>
</ul>
<h2>Raw Import Pipeline</h2>
<ol>
<li><code>POST /v1/imports</code> (multipart upload)</li>
<li><code>POST /v1/imports/:id/parse</code></li>
<li><code>POST /v1/imports/:id/extract</code></li>
<li><code>POST /v1/imports/:id/commit</code></li>
</ol>
<p>Data path:</p>
<ul>
<li><code>imports</code> -&gt; <code>raw_sessions/raw_messages</code> -&gt; <code>staged_memories</code> -&gt; <code>memories</code></li>
</ul>
<p>Supported parser behavior:</p>
<ul>
<li><code>source=codex</code>: Codex JSONL parser</li>
<li><code>source=claude</code>: Claude JSON export parser (role normalization: <code>human -&gt; user</code>, <code>assistant -&gt; assistant</code>)</li>
<li>fallback: generic text chunk parser</li>
</ul>
<h2>Project Resolution</h2>
<p>Default order:</p>
<ol>
<li><code>github_remote</code></li>
<li><code>repo_root_slug</code></li>
<li><code>manual</code></li>
</ol>
<p>Configured at workspace level:</p>
<ul>
<li><code>resolution_order</code></li>
<li><code>auto_create_project</code></li>
<li>key prefixes</li>
<li><code>project_mappings</code></li>
</ul>
<h2>Auto Switch Flow</h2>
<p><code>ensureContext()</code> runs before <code>remember</code>, <code>recall</code>, and <code>search_raw</code>.</p>
<pre><code class="language-mermaid">flowchart TD
  A[&quot;Tool call (remember/recall/search_raw)&quot;] --&gt; B[&quot;Load workspace settings&quot;]
  B --&gt; C[&quot;Detect git context (repo + cwd)&quot;]
  C --&gt; D[&quot;Resolve repo_key&quot;]
  D --&gt; E{&quot;pin_mode == true?&quot;}
  E -- Yes --&gt; F[&quot;Keep current_project_key&quot;]
  E -- No --&gt; G{&quot;Repo changed?&quot;}
  G -- Yes --&gt; H{&quot;auto_switch_repo?&quot;}
  H -- Yes --&gt; I[&quot;Switch to new repo project&quot;]
  H -- No --&gt; F
  G -- No --&gt; J{&quot;Subproject changed?&quot;}
  J -- Yes --&gt; K{&quot;auto_switch_subproject?&quot;}
  K -- Yes --&gt; L[&quot;Switch to repo#subpath&quot;]
  K -- No --&gt; F
  J -- No --&gt; F
  I --&gt; M[&quot;Update session state + stderr log&quot;]
  L --&gt; M
  F --&gt; N[&quot;Execute tool&quot;]
  M --&gt; N
</code></pre>
<p>Defaults:</p>
<ul>
<li><code>auto_switch_repo=true</code></li>
<li><code>auto_switch_subproject=false</code></li>
<li><code>enable_monorepo_resolution=false</code></li>
<li><code>monorepo_detection_level=2</code></li>
</ul>
<h2>CI Failure/Success Audit</h2>
<ul>
<li>Endpoint: <code>POST /v1/ci-events</code></li>
<li>Action emitted:<!-- -->
<ul>
<li>success -&gt; <code>ci.success</code></li>
<li>failure -&gt; <code>ci.failure</code></li>
</ul>
</li>
<li>Slack forwarding:<!-- -->
<ul>
<li>include <code>ci.</code> in Slack <code>action_prefixes</code></li>
<li><code>status=failure</code> is automatically treated as high severity</li>
</ul>
</li>
<li>GitHub Actions example:<!-- -->
<ul>
<li><code>.github/workflows/claustrum-ci-events.yml</code></li>
<li>set repository secrets:<!-- -->
<ul>
<li><code>MEMORY_CORE_URL</code></li>
<li><code>MEMORY_CORE_API_KEY</code></li>
<li><code>MEMORY_CORE_WORKSPACE_KEY</code></li>
<li>optional <code>MEMORY_CORE_PROJECT_KEY</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Admin UI Checklist</h2>
<ul>
<li>Manage workspace/project/member</li>
<li>Manage resolution settings and mappings</li>
<li>Send CI success/failure events from the CI Events panel</li>
<li>Run imports and commit staged memories</li>
<li>Execute raw snippet search</li>
<li>Review audit logs (<code>ci.failure</code>, <code>ci.success</code>, <code>raw.search</code>, <code>raw.view</code>)</li>
</ul>
<h2>Useful Commands</h2>
<pre><code class="language-bash">pnpm install
pnpm db:migrate
pnpm db:seed
pnpm dev
pnpm test:workspace
</code></pre>
<h2>Backup/Recovery Baseline</h2>
<ul>
<li>Back up Postgres regularly.</li>
<li>Keep migration SQL in version control.</li>
<li>Verify restore by replaying:<!-- -->
<ul>
<li>migrate</li>
<li>seed (idempotent)</li>
<li>smoke tests</li>
</ul>
</li>
</ul></article><footer class="border-t border-border pt-4"><p class="subtitle mb-2">More <!-- -->English<!-- --> pages</p><div class="flex flex-wrap gap-2"><a class="button-link no-underline" href="/docs/active-work-stale/">Active Work Stale and Auto-close</a><a class="button-link no-underline" href="/docs/active-work-timeline/">Active Work Timeline</a><a class="button-link no-underline" href="/docs/admin-extraction-settings/">Admin Extraction Settings</a><a class="button-link no-underline" href="/docs/api-keys-and-security/">API Keys and Security</a><a class="button-link no-underline" href="/docs/atlassian-integration/">Atlassian Integration (Jira + Confluence)</a><a class="button-link no-underline" href="/docs/audit-access-timeline/">Audit Access Timeline</a><a class="button-link no-underline" href="/docs/audit-model/">Audit Model</a><a class="button-link no-underline" href="/docs/audit-retention/">Audit Retention</a><a class="button-link no-underline" href="/docs/auth-and-roles/">Auth and Roles</a><a class="button-link no-underline" href="/docs/authorization-model/">Authorization Model Overview</a><a class="button-link no-underline" href="/docs/bootstrap-admin/">Bootstrap Admin Setup</a><a class="button-link no-underline" href="/docs/bootstrap-context/">Bootstrap Context</a></div></footer></div></section></main><script src="/_next/static/chunks/webpack-8fa15bc44c4a2b28.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/284ccbea44cc8397.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"2:I[6608,[],\"\"]\n4:I[5411,[\"411\",\"static/chunks/411-74b2a502b45b9a7c.js\",\"687\",\"static/chunks/app/docs/%5B...slug%5D/page-9841484d05ce8edd.js\"],\"\"]\n5:I[2728,[],\"\"]\n7:I[9836,[],\"\"]\n9:I[8907,[],\"\"]\n6:[\"slug\",\"operations\",\"c\"]\na:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L2\",null,{\"buildId\":\"nfX1tAN8bxYO85unX-2s-\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"docs\",\"operations\",\"\"],\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"operations\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"operations\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"operations\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L3\",[\"$\",\"main\",null,{\"className\":\"container-docs grid gap-6 lg:grid-cols-[280px_minmax(0,1fr)]\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"panel hidden h-fit lg:block\",\"children\":[\"$\",\"div\",null,{\"className\":\"panel-body space-y-4 text-sm\",\"children\":[[\"$\",\"div\",\"English\",{\"className\":\"space-y-2\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs font-semibold uppercase tracking-wide text-muted-foreground\",\"children\":\"English\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"English:/docs/home\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/home\",\"className\":\"no-underline\",\"children\":\"Home\"}]}],[\"$\",\"li\",\"English:/docs/recent-updates\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/recent-updates\",\"className\":\"no-underline\",\"children\":\"recent-updates\"}]}],[\"$\",\"li\",\"English:/docs/installation\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/installation\",\"className\":\"no-underline\",\"children\":\"Installation\"}]}],[\"$\",\"li\",\"English:/docs/environment-variables\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/environment-variables\",\"className\":\"no-underline\",\"children\":\"Environment-Variables\"}]}],[\"$\",\"li\",\"English:/docs/dependency-management\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/dependency-management\",\"className\":\"no-underline\",\"children\":\"dependency-management\"}]}],[\"$\",\"li\",\"English:/docs/ci\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/ci\",\"className\":\"no-underline\",\"children\":\"ci\"}]}],[\"$\",\"li\",\"English:/docs/release-gate\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/release-gate\",\"className\":\"no-underline\",\"children\":\"release-gate\"}]}],[\"$\",\"li\",\"English:/docs/operations\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/operations\",\"className\":\"no-underline\",\"children\":\"Operations\"}]}],[\"$\",\"li\",\"English:/docs/security-and-mcp-io\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/security-and-mcp-io\",\"className\":\"no-underline\",\"children\":\"Security-and-MCP-IO\"}]}],[\"$\",\"li\",\"English:/docs/onboarding\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/onboarding\",\"className\":\"no-underline\",\"children\":\"Onboarding\"}]}],[\"$\",\"li\",\"English:/docs/bootstrap-admin\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/bootstrap-admin\",\"className\":\"no-underline\",\"children\":\"Bootstrap-Admin\"}]}],[\"$\",\"li\",\"English:/docs/auth-and-roles\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/auth-and-roles\",\"className\":\"no-underline\",\"children\":\"Auth-and-Roles\"}]}],[\"$\",\"li\",\"English:/docs/oidc-sso\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/oidc-sso\",\"className\":\"no-underline\",\"children\":\"OIDC-SSO\"}]}],[\"$\",\"li\",\"English:/docs/group-mapping\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/group-mapping\",\"className\":\"no-underline\",\"children\":\"Group-Mapping\"}]}]]}]]}],[\"$\",\"div\",\"한국어\",{\"className\":\"space-y-2\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs font-semibold uppercase tracking-wide text-muted-foreground\",\"children\":\"한국어\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"한국어:/docs/dependency-management\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/dependency-management\",\"className\":\"no-underline\",\"children\":\"dependency-management\"}]}],[\"$\",\"li\",\"한국어:/docs/ci\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/ci\",\"className\":\"no-underline\",\"children\":\"ci\"}]}],[\"$\",\"li\",\"한국어:/docs/persona\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/persona\",\"className\":\"no-underline\",\"children\":\"persona\"}]}],[\"$\",\"li\",\"한국어:/docs/context-bundle-eval\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/context-bundle-eval\",\"className\":\"no-underline\",\"children\":\"context-bundle-eval\"}]}],[\"$\",\"li\",\"한국어:/docs/active-work-stale\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/active-work-stale\",\"className\":\"no-underline\",\"children\":\"active-work-stale\"}]}],[\"$\",\"li\",\"한국어:/docs/active-work-timeline\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/active-work-timeline\",\"className\":\"no-underline\",\"children\":\"active-work-timeline\"}]}],[\"$\",\"li\",\"한국어:/docs/context-debug\",{\"children\":[\"$\",\"$L4\",null,{\"href\":\"/docs/context-debug\",\"className\":\"no-underline\",\"children\":\"context-debug\"}]}]]}]]}]]}]}],[\"$\",\"section\",null,{\"className\":\"panel\",\"children\":[\"$\",\"div\",null,{\"className\":\"panel-body space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center justify-between gap-3\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"title\",\"children\":\"Operations\"}],[\"$\",\"p\",null,{\"className\":\"subtitle\",\"children\":[\"English document\",\" · Source: \",\"Operations.md\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex gap-2\",\"children\":[\"$\",\"$L4\",null,{\"className\":\"button-link no-underline\",\"href\":\"/\",\"children\":\"Docs Home\"}]}]]}],[\"$\",\"article\",null,{\"className\":\"prose-docs\",\"children\":[[\"$\",\"h1\",\"h1-0\",{\"children\":\"Operations\"}],\"\\n\",[\"$\",\"h2\",\"h2-0\",{\"children\":\"Data and Recall Model\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Default recall reads from \",[\"$\",\"code\",\"code-0\",{\"children\":\"memories\"}],\" only.\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Raw imported transcripts are separated from default recall flow.\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Optional raw tools return snippets only.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-1\",{\"children\":\"Raw Import Pipeline\"}],\"\\n\",[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"POST /v1/imports\"}],\" (multipart upload)\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"POST /v1/imports/:id/parse\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"POST /v1/imports/:id/extract\"}]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"POST /v1/imports/:id/commit\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"Data path:\"}],\"\\n\",[\"$\",\"ul\",\"ul-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"imports\"}],\" -\u003e \",[\"$\",\"code\",\"code-1\",{\"children\":\"raw_sessions/raw_messages\"}],\" -\u003e \",[\"$\",\"code\",\"code-2\",{\"children\":\"staged_memories\"}],\" -\u003e \",[\"$\",\"code\",\"code-3\",{\"children\":\"memories\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":\"Supported parser behavior:\"}],\"\\n\",[\"$\",\"ul\",\"ul-2\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"source=codex\"}],\": Codex JSONL parser\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"source=claude\"}],\": Claude JSON export parser (role normalization: \",[\"$\",\"code\",\"code-1\",{\"children\":\"human -\u003e user\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"assistant -\u003e assistant\"}],\")\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"fallback: generic text chunk parser\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-2\",{\"children\":\"Project Resolution\"}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":\"Default order:\"}],\"\\n\",[\"$\",\"ol\",\"ol-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"github_remote\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"repo_root_slug\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"manual\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":\"Configured at workspace level:\"}],\"\\n\",[\"$\",\"ul\",\"ul-3\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"resolution_order\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"auto_create_project\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"key prefixes\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"project_mappings\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-3\",{\"children\":\"Auto Switch Flow\"}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"ensureContext()\"}],\" runs before \",[\"$\",\"code\",\"code-1\",{\"children\":\"remember\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"recall\"}],\", and \",[\"$\",\"code\",\"code-3\",{\"children\":\"search_raw\"}],\".\"]}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-mermaid\",\"children\":\"flowchart TD\\n  A[\\\"Tool call (remember/recall/search_raw)\\\"] --\u003e B[\\\"Load workspace settings\\\"]\\n  B --\u003e C[\\\"Detect git context (repo + cwd)\\\"]\\n  C --\u003e D[\\\"Resolve repo_key\\\"]\\n  D --\u003e E{\\\"pin_mode == true?\\\"}\\n  E -- Yes --\u003e F[\\\"Keep current_project_key\\\"]\\n  E -- No --\u003e G{\\\"Repo changed?\\\"}\\n  G -- Yes --\u003e H{\\\"auto_switch_repo?\\\"}\\n  H -- Yes --\u003e I[\\\"Switch to new repo project\\\"]\\n  H -- No --\u003e F\\n  G -- No --\u003e J{\\\"Subproject changed?\\\"}\\n  J -- Yes --\u003e K{\\\"auto_switch_subproject?\\\"}\\n  K -- Yes --\u003e L[\\\"Switch to repo#subpath\\\"]\\n  K -- No --\u003e F\\n  J -- No --\u003e F\\n  I --\u003e M[\\\"Update session state + stderr log\\\"]\\n  L --\u003e M\\n  F --\u003e N[\\\"Execute tool\\\"]\\n  M --\u003e N\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":\"Defaults:\"}],\"\\n\",[\"$\",\"ul\",\"ul-4\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"auto_switch_repo=true\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"auto_switch_subproject=false\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"enable_monorepo_resolution=false\"}]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"monorepo_detection_level=2\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-4\",{\"children\":\"CI Failure/Success Audit\"}],\"\\n\",[\"$\",\"ul\",\"ul-5\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Endpoint: \",[\"$\",\"code\",\"code-0\",{\"children\":\"POST /v1/ci-events\"}]]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Action emitted:\",\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"success -\u003e \",[\"$\",\"code\",\"code-0\",{\"children\":\"ci.success\"}]]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"failure -\u003e \",[\"$\",\"code\",\"code-0\",{\"children\":\"ci.failure\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Slack forwarding:\",\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"include \",[\"$\",\"code\",\"code-0\",{\"children\":\"ci.\"}],\" in Slack \",[\"$\",\"code\",\"code-1\",{\"children\":\"action_prefixes\"}]]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"status=failure\"}],\" is automatically treated as high severity\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"GitHub Actions example:\",\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\".github/workflows/claustrum-ci-events.yml\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"set repository secrets:\",\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"MEMORY_CORE_URL\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"MEMORY_CORE_API_KEY\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"MEMORY_CORE_WORKSPACE_KEY\"}]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"optional \",[\"$\",\"code\",\"code-0\",{\"children\":\"MEMORY_CORE_PROJECT_KEY\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-5\",{\"children\":\"Admin UI Checklist\"}],\"\\n\",[\"$\",\"ul\",\"ul-6\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Manage workspace/project/member\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Manage resolution settings and mappings\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Send CI success/failure events from the CI Events panel\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Run imports and commit staged memories\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"Execute raw snippet search\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"Review audit logs (\",[\"$\",\"code\",\"code-0\",{\"children\":\"ci.failure\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"ci.success\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"raw.search\"}],\", \",[\"$\",\"code\",\"code-3\",{\"children\":\"raw.view\"}],\")\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-6\",{\"children\":\"Useful Commands\"}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-bash\",\"children\":\"pnpm install\\npnpm db:migrate\\npnpm db:seed\\npnpm dev\\npnpm test:workspace\\n\"}]}],\"\\n\",[\"$\",\"h2\",\"h2-7\",{\"children\":\"Backup/Recovery Baseline\"}],\"\\n\",[\"$\",\"ul\",\"ul-7\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Back up Postgres regularly.\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Keep migration SQL in version control.\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Verify restore by replaying:\",\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"migrate\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"seed (idempotent)\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"smoke tests\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}]]}],[\"$\",\"footer\",null,{\"className\":\"border-t border-border pt-4\",\"children\":[[\"$\",\"p\",null,{\"className\":\"subtitle mb-2\",\"children\":[\"More \",\"English\",\" pages\"]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2\",\"children\":[[\"$\",\"$L4\",\"en:active-work-stale\",{\"href\":\"/docs/active-work-stale\",\"className\":\"button-link no-underline\",\"children\":\"Active Work Stale and Auto-close\"}],[\"$\",\"$L4\",\"en:active-work-timeline\",{\"href\":\"/docs/active-work-timeline\",\"className\":\"button-link no-underline\",\"children\":\"Active Work Timeline\"}],[\"$\",\"$L4\",\"en:admin-extraction-settings\",{\"href\":\"/docs/admin-extraction-settings\",\"className\":\"button-link no-underline\",\"children\":\"Admin Extraction Settings\"}],[\"$\",\"$L4\",\"en:api-keys-and-security\",{\"href\":\"/docs/api-keys-and-security\",\"className\":\"button-link no-underline\",\"children\":\"API Keys and Security\"}],[\"$\",\"$L4\",\"en:atlassian-integration\",{\"href\":\"/docs/atlassian-integration\",\"className\":\"button-link no-underline\",\"children\":\"Atlassian Integration (Jira + Confluence)\"}],[\"$\",\"$L4\",\"en:audit-access-timeline\",{\"href\":\"/docs/audit-access-timeline\",\"className\":\"button-link no-underline\",\"children\":\"Audit Access Timeline\"}],[\"$\",\"$L4\",\"en:audit-model\",{\"href\":\"/docs/audit-model\",\"className\":\"button-link no-underline\",\"children\":\"Audit Model\"}],[\"$\",\"$L4\",\"en:audit-retention\",{\"href\":\"/docs/audit-retention\",\"className\":\"button-link no-underline\",\"children\":\"Audit Retention\"}],[\"$\",\"$L4\",\"en:auth-and-roles\",{\"href\":\"/docs/auth-and-roles\",\"className\":\"button-link no-underline\",\"children\":\"Auth and Roles\"}],[\"$\",\"$L4\",\"en:authorization-model\",{\"href\":\"/docs/authorization-model\",\"className\":\"button-link no-underline\",\"children\":\"Authorization Model Overview\"}],[\"$\",\"$L4\",\"en:bootstrap-admin\",{\"href\":\"/docs/bootstrap-admin\",\"className\":\"button-link no-underline\",\"children\":\"Bootstrap Admin Setup\"}],[\"$\",\"$L4\",\"en:bootstrap-context\",{\"href\":\"/docs/bootstrap-context\",\"className\":\"button-link no-underline\",\"children\":\"Bootstrap Context\"}]]}]]}]]}]}]]}],null],null],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"$6\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/284ccbea44cc8397.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"dark\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"header\",null,{\"className\":\"border-b border-border/70 bg-background/70 backdrop-blur\",\"children\":[\"$\",\"div\",null,{\"className\":\"container-docs flex items-center justify-between gap-3 py-4\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"text-lg font-semibold text-foreground no-underline\",\"children\":\"Claustrum Docs\"}],[\"$\",\"p\",null,{\"className\":\"subtitle\",\"children\":\"GitHub Pages documentation for Claustrum\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2\",\"children\":[[\"$\",\"$L4\",null,{\"className\":\"button-link no-underline\",\"href\":\"/docs/home\",\"children\":\"English\"}],[\"$\",\"$L4\",null,{\"className\":\"button-link no-underline\",\"href\":\"/docs/ko/home\",\"children\":\"한국어\"}]]}]]}]}],[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"main\",null,{\"className\":\"container-docs\",\"children\":[\"$\",\"section\",null,{\"className\":\"panel\",\"children\":[\"$\",\"div\",null,{\"className\":\"panel-body space-y-3\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"title\",\"children\":\"Page Not Found\"}],[\"$\",\"p\",null,{\"className\":\"subtitle\",\"children\":\"The document path does not exist.\"}],[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"button-link no-underline\",\"children\":\"Back to Docs Home\"}]]}]}]}],\"notFoundStyles\":[]}]]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L8\"],\"globalErrorComponent\":\"$9\",\"missingSlots\":\"$Wa\"}]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Operations | Claustrum Docs\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Documentation page: Operations\"}]]\n3:null\n"])</script></body></html>