2:I[5411,["411","static/chunks/411-74b2a502b45b9a7c.js","687","static/chunks/app/docs/%5B...slug%5D/page-9841484d05ce8edd.js"],""]
3:I[2728,[],""]
5:I[9836,[],""]
4:["slug","context-bundle-eval","c"]
0:["nfX1tAN8bxYO85unX-2s-",[[["",{"children":["docs",{"children":[["slug","context-bundle-eval","c"],{"children":["__PAGE__?{\"slug\":[\"context-bundle-eval\"]}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["docs",{"children":[["slug","context-bundle-eval","c"],{"children":["__PAGE__",{},[["$L1",["$","main",null,{"className":"container-docs grid gap-6 lg:grid-cols-[280px_minmax(0,1fr)]","children":[["$","aside",null,{"className":"panel hidden h-fit lg:block","children":["$","div",null,{"className":"panel-body space-y-4 text-sm","children":[["$","div","English",{"className":"space-y-2","children":[["$","h2",null,{"className":"text-xs font-semibold uppercase tracking-wide text-muted-foreground","children":"English"}],["$","ul",null,{"className":"space-y-1","children":[["$","li","English:/docs/home",{"children":["$","$L2",null,{"href":"/docs/home","className":"no-underline","children":"Home"}]}],["$","li","English:/docs/recent-updates",{"children":["$","$L2",null,{"href":"/docs/recent-updates","className":"no-underline","children":"recent-updates"}]}],["$","li","English:/docs/installation",{"children":["$","$L2",null,{"href":"/docs/installation","className":"no-underline","children":"Installation"}]}],["$","li","English:/docs/environment-variables",{"children":["$","$L2",null,{"href":"/docs/environment-variables","className":"no-underline","children":"Environment-Variables"}]}],["$","li","English:/docs/dependency-management",{"children":["$","$L2",null,{"href":"/docs/dependency-management","className":"no-underline","children":"dependency-management"}]}],["$","li","English:/docs/ci",{"children":["$","$L2",null,{"href":"/docs/ci","className":"no-underline","children":"ci"}]}],["$","li","English:/docs/release-gate",{"children":["$","$L2",null,{"href":"/docs/release-gate","className":"no-underline","children":"release-gate"}]}],["$","li","English:/docs/operations",{"children":["$","$L2",null,{"href":"/docs/operations","className":"no-underline","children":"Operations"}]}],["$","li","English:/docs/security-and-mcp-io",{"children":["$","$L2",null,{"href":"/docs/security-and-mcp-io","className":"no-underline","children":"Security-and-MCP-IO"}]}],["$","li","English:/docs/onboarding",{"children":["$","$L2",null,{"href":"/docs/onboarding","className":"no-underline","children":"Onboarding"}]}],["$","li","English:/docs/bootstrap-admin",{"children":["$","$L2",null,{"href":"/docs/bootstrap-admin","className":"no-underline","children":"Bootstrap-Admin"}]}],["$","li","English:/docs/auth-and-roles",{"children":["$","$L2",null,{"href":"/docs/auth-and-roles","className":"no-underline","children":"Auth-and-Roles"}]}],["$","li","English:/docs/oidc-sso",{"children":["$","$L2",null,{"href":"/docs/oidc-sso","className":"no-underline","children":"OIDC-SSO"}]}],["$","li","English:/docs/group-mapping",{"children":["$","$L2",null,{"href":"/docs/group-mapping","className":"no-underline","children":"Group-Mapping"}]}]]}]]}],["$","div","한국어",{"className":"space-y-2","children":[["$","h2",null,{"className":"text-xs font-semibold uppercase tracking-wide text-muted-foreground","children":"한국어"}],["$","ul",null,{"className":"space-y-1","children":[["$","li","한국어:/docs/dependency-management",{"children":["$","$L2",null,{"href":"/docs/dependency-management","className":"no-underline","children":"dependency-management"}]}],["$","li","한국어:/docs/ci",{"children":["$","$L2",null,{"href":"/docs/ci","className":"no-underline","children":"ci"}]}],["$","li","한국어:/docs/persona",{"children":["$","$L2",null,{"href":"/docs/persona","className":"no-underline","children":"persona"}]}],["$","li","한국어:/docs/context-bundle-eval",{"children":["$","$L2",null,{"href":"/docs/context-bundle-eval","className":"no-underline","children":"context-bundle-eval"}]}],["$","li","한국어:/docs/active-work-stale",{"children":["$","$L2",null,{"href":"/docs/active-work-stale","className":"no-underline","children":"active-work-stale"}]}],["$","li","한국어:/docs/active-work-timeline",{"children":["$","$L2",null,{"href":"/docs/active-work-timeline","className":"no-underline","children":"active-work-timeline"}]}],["$","li","한국어:/docs/context-debug",{"children":["$","$L2",null,{"href":"/docs/context-debug","className":"no-underline","children":"context-debug"}]}]]}]]}]]}]}],["$","section",null,{"className":"panel","children":["$","div",null,{"className":"panel-body space-y-6","children":[["$","div",null,{"className":"flex flex-wrap items-center justify-between gap-3","children":[["$","div",null,{"children":[["$","h1",null,{"className":"title","children":"Context Bundle Eval"}],["$","p",null,{"className":"subtitle","children":["English document"," · Source: ","context-bundle-eval.md"]}]]}],["$","div",null,{"className":"flex gap-2","children":["$","$L2",null,{"className":"button-link no-underline","href":"/","children":"Docs Home"}]}]]}],["$","article",null,{"className":"prose-docs","children":[["$","h1","h1-0",{"children":"Context Bundle Eval"}],"\n",["$","h2","h2-0",{"children":"Purpose"}],"\n",["$","p","p-0",{"children":["Context Bundle Eval provides continuous quality checks for ",["$","code","code-0",{"children":"/v1/context/bundle"}],"."]}],"\n",["$","p","p-1",{"children":"It combines:"}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"question-set execution"}],"\n",["$","li","li-1",{"children":"rule-based scoring"}],"\n",["$","li","li-2",{"children":"run-to-run diff"}],"\n",["$","li","li-3",{"children":"optional LLM judge"}],"\n"]}],"\n",["$","h2","h2-1",{"children":"Structure"}],"\n",["$","ul","ul-1",{"children":["\n",["$","li","li-0",{"children":[["$","code","code-0",{"children":"eval/questions.yaml"}]," (20 sample questions)"]}],"\n",["$","li","li-1",{"children":["$","code","code-0",{"children":"scripts/eval/run_bundle_eval.ts"}]}],"\n",["$","li","li-2",{"children":["$","code","code-0",{"children":"scripts/eval/score_bundle.ts"}]}],"\n",["$","li","li-3",{"children":["$","code","code-0",{"children":"scripts/eval/diff_bundle.ts"}]}],"\n",["$","li","li-4",{"children":["$","code","code-0",{"children":"scripts/eval/render_diff_html.ts"}]}],"\n",["$","li","li-5",{"children":["$","code","code-0",{"children":"scripts/eval/token_count.ts"}]}],"\n",["$","li","li-6",{"children":["$","code","code-0",{"children":"scripts/eval/helpers.ts"}]}],"\n"]}],"\n",["$","p","p-2",{"children":"Run outputs:"}],"\n",["$","ul","ul-2",{"children":["\n",["$","li","li-0",{"children":["$","code","code-0",{"children":"eval/runs/<timestamp>/bundle.jsonl"}]}],"\n",["$","li","li-1",{"children":["$","code","code-0",{"children":"eval/runs/<timestamp>/scores.json"}]}],"\n",["$","li","li-2",{"children":["$","code","code-0",{"children":"eval/runs/<timestamp>/report.md"}]}],"\n",["$","li","li-3",{"children":[["$","code","code-0",{"children":"eval/runs/<timestamp>/diff.md"}]," (when diffing)"]}],"\n",["$","li","li-4",{"children":[["$","code","code-0",{"children":"eval/runs/<timestamp>/diff.html"}]," (when diffing)"]}],"\n"]}],"\n",["$","h2","h2-2",{"children":"Run Eval"}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"language-bash","children":"pnpm eval:bundle\n"}]}],"\n",["$","p","p-3",{"children":"Common options:"}],"\n",["$","pre","pre-1",{"children":["$","code","code-0",{"className":"language-bash","children":"pnpm eval:bundle -- --base-url http://localhost:8080\npnpm eval:bundle -- --limit 10\npnpm eval:bundle -- --debug true\npnpm eval:bundle -- --mask true\npnpm eval:bundle -- --out-dir eval/runs/manual-01\n"}]}],"\n",["$","p","p-4",{"children":"Notes:"}],"\n",["$","ul","ul-3",{"children":["\n",["$","li","li-0",{"children":[["$","code","code-0",{"children":"--debug true"}]," stores debug bundle per case in JSONL entry."]}],"\n",["$","li","li-1",{"children":[["$","code","code-0",{"children":"--mask true"}]," masks sensitive token/key fields before persisting outputs."]}],"\n"]}],"\n",["$","h2","h2-3",{"children":"Rule-Based Scoring"}],"\n",["$","p","p-5",{"children":[["$","code","code-0",{"children":"score_bundle.ts"}]," evaluates each case using ",["$","code","code-1",{"children":"expected"}]," rules:"]}],"\n",["$","ul","ul-4",{"children":["\n",["$","li","li-0",{"children":["$","code","code-0",{"children":"must_include_types"}]}],"\n",["$","li","li-1",{"children":["$","code","code-0",{"children":"must_not_include_types"}]}],"\n",["$","li","li-2",{"children":["$","code","code-0",{"children":"should_include_keywords"}]}],"\n",["$","li","li-3",{"children":["$","code","code-0",{"children":"must_include_fields"}]}],"\n",["$","li","li-4",{"children":"token budget penalty when over budget"}],"\n"]}],"\n",["$","p","p-6",{"children":"Outputs:"}],"\n",["$","ul","ul-5",{"children":["\n",["$","li","li-0",{"children":[["$","code","code-0",{"children":"scores.json"}]," (case scores, totals, reasons)"]}],"\n",["$","li","li-1",{"children":[["$","code","code-0",{"children":"report.md"}]," (summary + fail top cases)"]}],"\n"]}],"\n",["$","h2","h2-4",{"children":"Diff Two Runs"}],"\n",["$","pre","pre-2",{"children":["$","code","code-0",{"className":"language-bash","children":"pnpm eval:diff -- --a eval/runs/<runA> --b eval/runs/<runB>\n"}]}],"\n",["$","p","p-7",{"children":"Compared dimensions:"}],"\n",["$","ul","ul-6",{"children":["\n",["$","li","li-0",{"children":"global rule selected IDs"}],"\n",["$","li","li-1",{"children":[["$","code","code-0",{"children":"snapshot.top_decisions"}]," (",["$","code","code-1",{"children":"id:title"}],")"]}],"\n",["$","li","li-2",{"children":[["$","code","code-0",{"children":"snapshot.active_work"}]," titles"]}],"\n",["$","li","li-3",{"children":"retrieval IDs + score breakdown"}],"\n",["$","li","li-4",{"children":"token usage breakdown"}],"\n"]}],"\n",["$","p","p-8",{"children":"Outputs in run B directory by default:"}],"\n",["$","ul","ul-7",{"children":["\n",["$","li","li-0",{"children":["$","code","code-0",{"children":"diff.json"}]}],"\n",["$","li","li-1",{"children":["$","code","code-0",{"children":"diff.md"}]}],"\n",["$","li","li-2",{"children":["$","code","code-0",{"children":"diff.html"}]}],"\n"]}],"\n",["$","p","p-9",{"children":"Color conventions in HTML:"}],"\n",["$","ul","ul-8",{"children":["\n",["$","li","li-0",{"children":"added: green"}],"\n",["$","li","li-1",{"children":"removed: red"}],"\n",["$","li","li-2",{"children":"changed: yellow"}],"\n"]}],"\n",["$","h2","h2-5",{"children":"Optional LLM Judge"}],"\n",["$","p","p-10",{"children":"LLM judge is optional and disabled by default."}],"\n",["$","p","p-11",{"children":"Enable:"}],"\n",["$","pre","pre-3",{"children":["$","code","code-0",{"className":"language-bash","children":"EVAL_JUDGE_PROVIDER=openai \\\nEVAL_JUDGE_API_KEY=*** \\\npnpm eval:bundle -- --judge true\n"}]}],"\n",["$","p","p-12",{"children":"Supported providers:"}],"\n",["$","ul","ul-9",{"children":["\n",["$","li","li-0",{"children":["$","code","code-0",{"children":"openai"}]}],"\n",["$","li","li-1",{"children":["$","code","code-0",{"children":"claude"}]}],"\n",["$","li","li-2",{"children":["$","code","code-0",{"children":"gemini"}]}],"\n"]}],"\n",["$","p","p-13",{"children":"Judge returns:"}],"\n",["$","ul","ul-10",{"children":["\n",["$","li","li-0",{"children":"score (1..5)"}],"\n",["$","li","li-1",{"children":"reasons (up to 3 bullets)"}],"\n",["$","li","li-2",{"children":"suggestions (up to 3 bullets)"}],"\n"]}],"\n",["$","p","p-14",{"children":"When env vars are missing, judge is skipped and scoring stays rule-based only."}],"\n",["$","h2","h2-6",{"children":"Report Helpers"}],"\n",["$","p","p-15",{"children":"Show latest report:"}],"\n",["$","pre","pre-4",{"children":["$","code","code-0",{"className":"language-bash","children":"pnpm eval:report\n"}]}],"\n",["$","h2","h2-7",{"children":"Security Notes"}],"\n",["$","ul","ul-11",{"children":["\n",["$","li","li-0",{"children":"Do not print or store API keys in eval outputs."}],"\n",["$","li","li-1",{"children":[["$","code","code-0",{"children":"workspace_key"}]," / ",["$","code","code-1",{"children":"project_key"}]," are allowed in reports."]}],"\n",["$","li","li-2",{"children":["Use environment variables for auth:","\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["$","code","code-0",{"children":"MEMORY_CORE_API_KEY"}]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","h2","h2-8",{"children":"CI Guidance (Optional)"}],"\n",["$","p","p-16",{"children":"Recommended CI pattern:"}],"\n",["$","ol","ol-0",{"children":["\n",["$","li","li-0",{"children":["Run ",["$","code","code-0",{"children":"pnpm eval:bundle"}]," against staging memory-core."]}],"\n",["$","li","li-1",{"children":["Store ",["$","code","code-0",{"children":"report.md"}]," + ",["$","code","code-1",{"children":"scores.json"}]," as artifacts."]}],"\n",["$","li","li-2",{"children":["Compare with previous baseline using ",["$","code","code-0",{"children":"pnpm eval:diff"}],"."]}],"\n"]}],"\n",["$","h2","h2-9",{"children":"PR Comment Integration"}],"\n",["$","p","p-17",{"children":"Workflow:"}],"\n",["$","ul","ul-12",{"children":["\n",["$","li","li-0",{"children":["$","code","code-0",{"children":".github/workflows/eval-comment.yml"}]}],"\n"]}],"\n",["$","p","p-18",{"children":["Behavior on ",["$","code","code-0",{"children":"pull_request"}]," (",["$","code","code-1",{"children":"opened"}],", ",["$","code","code-2",{"children":"synchronize"}],", ",["$","code","code-3",{"children":"reopened"}],"):"]}],"\n",["$","ol","ol-1",{"children":["\n",["$","li","li-0",{"children":["Runs eval on PR HEAD (",["$","code","code-0",{"children":"eval/runs/pr-head"}],")"]}],"\n",["$","li","li-1",{"children":["Tries optional base eval on ",["$","code","code-0",{"children":"origin/<base_ref>"}]," (",["$","code","code-1",{"children":"eval/runs/pr-base"}],")"]}],"\n",["$","li","li-2",{"children":["Generates diff (",["$","code","code-0",{"children":"diff.md"}],", ",["$","code","code-1",{"children":"diff.html"}],") when base run exists"]}],"\n",["$","li","li-3",{"children":"Posts/updates a sticky PR comment (header-based update)"}],"\n"]}],"\n",["$","p","p-19",{"children":"Sticky marker in comment body:"}],"\n",["$","ul","ul-13",{"children":["\n",["$","li","li-0",{"children":["$","code","code-0",{"children":"<!-- CLAUSTRUM_EVAL_COMMENT -->"}]}],"\n"]}],"\n",["$","p","p-20",{"children":"Comment includes:"}],"\n",["$","ul","ul-14",{"children":["\n",["$","li","li-0",{"children":"total score / failing case count"}],"\n",["$","li","li-1",{"children":"top failures (up to 5)"}],"\n",["$","li","li-2",{"children":"budget overrun cases"}],"\n",["$","li","li-3",{"children":"diff summary"}],"\n",["$","li","li-4",{"children":"link to workflow artifacts"}],"\n"]}],"\n",["$","h2","h2-10",{"children":"Troubleshooting"}],"\n",["$","ul","ul-15",{"children":["\n",["$","li","li-0",{"children":["\n",["$","p","p-0",{"children":["$","code","code-0",{"children":"scores.json not found"}]}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["verify ",["$","code","code-0",{"children":"pnpm eval:bundle"}]," completed"]}],"\n",["$","li","li-1",{"children":["verify output folder exists under ",["$","code","code-0",{"children":"eval/runs/<id>"}]]}],"\n"]}],"\n"]}],"\n",["$","li","li-1",{"children":["\n",["$","p","p-0",{"children":"Diff not generated"}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"base eval may fail (network/time/resource limits)"}],"\n",["$","li","li-1",{"children":["check ",["$","code","code-0",{"children":"eval/runs/pr-base/bundle.jsonl"}]," existence"]}],"\n"]}],"\n"]}],"\n",["$","li","li-2",{"children":["\n",["$","p","p-0",{"children":"All HTTP checks fail"}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["confirm ",["$","code","code-0",{"children":"memory-core"}]," health endpoint is reachable"]}],"\n",["$","li","li-1",{"children":["confirm ",["$","code","code-0",{"children":"MEMORY_CORE_API_KEY"}]," is set for eval runner"]}],"\n"]}],"\n"]}],"\n",["$","li","li-3",{"children":["\n",["$","p","p-0",{"children":"Judge is skipped unexpectedly"}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["confirm ",["$","code","code-0",{"children":"--judge true"}]]}],"\n",["$","li","li-1",{"children":["confirm both ",["$","code","code-0",{"children":"EVAL_JUDGE_PROVIDER"}]," and ",["$","code","code-1",{"children":"EVAL_JUDGE_API_KEY"}]]}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p","p-21",{"children":"Last Updated: 2026-02-18"}]]}],["$","footer",null,{"className":"border-t border-border pt-4","children":[["$","p",null,{"className":"subtitle mb-2","children":["More ","English"," pages"]}],["$","div",null,{"className":"flex flex-wrap gap-2","children":[["$","$L2","en:active-work-stale",{"href":"/docs/active-work-stale","className":"button-link no-underline","children":"Active Work Stale and Auto-close"}],["$","$L2","en:active-work-timeline",{"href":"/docs/active-work-timeline","className":"button-link no-underline","children":"Active Work Timeline"}],["$","$L2","en:admin-extraction-settings",{"href":"/docs/admin-extraction-settings","className":"button-link no-underline","children":"Admin Extraction Settings"}],["$","$L2","en:api-keys-and-security",{"href":"/docs/api-keys-and-security","className":"button-link no-underline","children":"API Keys and Security"}],["$","$L2","en:atlassian-integration",{"href":"/docs/atlassian-integration","className":"button-link no-underline","children":"Atlassian Integration (Jira + Confluence)"}],["$","$L2","en:audit-access-timeline",{"href":"/docs/audit-access-timeline","className":"button-link no-underline","children":"Audit Access Timeline"}],["$","$L2","en:audit-model",{"href":"/docs/audit-model","className":"button-link no-underline","children":"Audit Model"}],["$","$L2","en:audit-retention",{"href":"/docs/audit-retention","className":"button-link no-underline","children":"Audit Retention"}],["$","$L2","en:auth-and-roles",{"href":"/docs/auth-and-roles","className":"button-link no-underline","children":"Auth and Roles"}],["$","$L2","en:authorization-model",{"href":"/docs/authorization-model","className":"button-link no-underline","children":"Authorization Model Overview"}],["$","$L2","en:bootstrap-admin",{"href":"/docs/bootstrap-admin","className":"button-link no-underline","children":"Bootstrap Admin Setup"}],["$","$L2","en:bootstrap-context",{"href":"/docs/bootstrap-context","className":"button-link no-underline","children":"Bootstrap Context"}]]}]]}]]}]}]]}],null],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/284ccbea44cc8397.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","className":"dark","children":["$","body",null,{"children":[["$","header",null,{"className":"border-b border-border/70 bg-background/70 backdrop-blur","children":["$","div",null,{"className":"container-docs flex items-center justify-between gap-3 py-4","children":[["$","div",null,{"children":[["$","$L2",null,{"href":"/","className":"text-lg font-semibold text-foreground no-underline","children":"Claustrum Docs"}],["$","p",null,{"className":"subtitle","children":"GitHub Pages documentation for Claustrum"}]]}],["$","div",null,{"className":"flex items-center gap-2","children":[["$","$L2",null,{"className":"button-link no-underline","href":"/docs/home","children":"English"}],["$","$L2",null,{"className":"button-link no-underline","href":"/docs/ko/home","children":"한국어"}]]}]]}]}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","main",null,{"className":"container-docs","children":["$","section",null,{"className":"panel","children":["$","div",null,{"className":"panel-body space-y-3","children":[["$","h1",null,{"className":"title","children":"Page Not Found"}],["$","p",null,{"className":"subtitle","children":"The document path does not exist."}],["$","$L2",null,{"href":"/","className":"button-link no-underline","children":"Back to Docs Home"}]]}]}]}],"notFoundStyles":[]}]]}]}]],null],null],["$L6",null]]]]
6:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Context Bundle Eval | Claustrum Docs"}],["$","meta","3",{"name":"description","content":"Documentation page: Context Bundle Eval"}]]
1:null
